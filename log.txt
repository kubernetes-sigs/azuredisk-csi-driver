W1109 06:54:31.129444       1 main.go:87] nodeid is empty
I1109 06:54:31.129930       1 main.go:161] set up prometheus server on [::]:29604
I1109 06:54:31.130225       1 azuredisk.go:193] 
DRIVER INFORMATION:
-------------------
Build Date: "2023-10-31T03:12:21Z"
Compiler: gc
Driver Name: disk.csi.azure.com
Driver Version: v1.30.0
Git Commit: a399cb839176c4a46e19b0880cfd7f69b6c96a2b
Go Version: go1.20.4
Platform: linux/amd64
Topology Key: topology.disk.csi.azure.com/zone

Streaming logs below:
I1109 06:54:31.130394       1 azuredisk.go:196] driver userAgent: disk.csi.azure.com/v1.30.0 OSS-kubectl
I1109 06:54:31.130930       1 azure_disk_utils.go:183] reading cloud config from secret kube-system/azure-cloud-provider
I1109 06:54:31.174733       1 azure_disk_utils.go:190] InitializeCloudFromSecret: failed to get cloud config from secret kube-system/azure-cloud-provider: failed to get secret kube-system/azure-cloud-provider: secrets "azure-cloud-provider" not found
I1109 06:54:31.174754       1 azure_disk_utils.go:195] could not read cloud config from secret kube-system/azure-cloud-provider
I1109 06:54:31.174761       1 azure_disk_utils.go:205] use default AZURE_CREDENTIAL_FILE env var: /etc/kubernetes/azure.json
I1109 06:54:31.174949       1 azure_disk_utils.go:213] read cloud config from file: /etc/kubernetes/azure.json successfully
I1109 06:54:31.175735       1 azure_auth.go:279] Using AzurePublicCloud environment
I1109 06:54:31.175754       1 azure_auth.go:130] azure: using managed identity extension to retrieve access token
I1109 06:54:31.175760       1 azure_auth.go:136] azure: using User Assigned MSI ID to retrieve access token
I1109 06:54:31.175868       1 azure_auth.go:147] azure: User Assigned MSI ID is client ID
I1109 06:54:31.175960       1 azure.go:911] Azure cloudprovider using try backoff: retries=6, exponent=1.500000, duration=5, jitter=1.000000
I1109 06:54:31.176004       1 azure_interfaceclient.go:74] Azure InterfacesClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176035       1 azure_interfaceclient.go:77] Azure InterfacesClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176049       1 azure_vmsizeclient.go:68] Azure VirtualMachineSizesClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176109       1 azure_vmsizeclient.go:71] Azure VirtualMachineSizesClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176129       1 azure_storageaccountclient.go:70] Azure StorageAccountClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176189       1 azure_storageaccountclient.go:73] Azure StorageAccountClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176206       1 azure_diskclient.go:68] Azure DisksClient using API version: 2022-07-02
I1109 06:54:31.176272       1 azure_vmclient.go:70] Azure VirtualMachine client (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176282       1 azure_vmclient.go:73] Azure VirtualMachine client (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176291       1 azure_vmssclient.go:70] Azure VirtualMachineScaleSetClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176296       1 azure_vmssclient.go:73] Azure VirtualMachineScaleSetClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176359       1 azure_vmssvmclient.go:75] Azure vmssVM client (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176365       1 azure_vmssvmclient.go:78] Azure vmssVM client (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176376       1 azure_routeclient.go:69] Azure RoutesClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176382       1 azure_routeclient.go:72] Azure RoutesClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176389       1 azure_subnetclient.go:70] Azure SubnetsClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176400       1 azure_subnetclient.go:73] Azure SubnetsClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176408       1 azure_routetableclient.go:69] Azure RouteTablesClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176413       1 azure_routetableclient.go:72] Azure RouteTablesClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176428       1 azure_loadbalancerclient.go:74] Azure LoadBalancersClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176439       1 azure_loadbalancerclient.go:77] Azure LoadBalancersClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176447       1 azure_securitygroupclient.go:70] Azure SecurityGroupsClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176452       1 azure_securitygroupclient.go:73] Azure SecurityGroupsClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176461       1 azure_publicipclient.go:74] Azure PublicIPAddressesClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176470       1 azure_publicipclient.go:77] Azure PublicIPAddressesClient (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176504       1 azure_blobclient.go:73] Azure BlobClient using API version: 2021-09-01
I1109 06:54:31.176516       1 azure_vmasclient.go:70] Azure AvailabilitySetsClient (read ops) using rate limit config: QPS=3, bucket=10
I1109 06:54:31.176520       1 azure_vmasclient.go:73] Azure AvailabilitySetsClient  (write ops) using rate limit config: QPS=1, bucket=10
I1109 06:54:31.176628       1 azure.go:1154] attach/detach disk operation rate limit QPS: 6.000000, Bucket: 10
I1109 06:54:31.176650       1 azuredisk.go:215] disable UseInstanceMetadata for controller
I1109 06:54:31.176657       1 azuredisk.go:227] cloud: AzurePublicCloud, location: eastus, rg: mc_aks-snapshot_group_aks-snapshot_eastus, VMType: vmss, PrimaryScaleSetName: aks-nodepool1-28004814-vmss, PrimaryAvailabilitySetName: , DisableAvailabilitySetNodes: false
I1109 06:54:31.182482       1 mount_linux.go:285] 'umount /tmp/kubelet-detect-safe-umount1151756869' failed with: exit status 32, output: umount: /tmp/kubelet-detect-safe-umount1151756869: must be superuser to unmount.
I1109 06:54:31.182511       1 mount_linux.go:287] Detected umount with unsafe 'not mounted' behavior
I1109 06:54:31.182575       1 driver.go:82] Enabling controller service capability: CREATE_DELETE_VOLUME
I1109 06:54:31.182645       1 driver.go:82] Enabling controller service capability: PUBLISH_UNPUBLISH_VOLUME
I1109 06:54:31.182733       1 driver.go:82] Enabling controller service capability: CREATE_DELETE_SNAPSHOT
I1109 06:54:31.182833       1 driver.go:82] Enabling controller service capability: CLONE_VOLUME
I1109 06:54:31.182911       1 driver.go:82] Enabling controller service capability: EXPAND_VOLUME
I1109 06:54:31.182990       1 driver.go:82] Enabling controller service capability: SINGLE_NODE_MULTI_WRITER
I1109 06:54:31.183060       1 driver.go:101] Enabling volume access mode: SINGLE_NODE_WRITER
I1109 06:54:31.183134       1 driver.go:101] Enabling volume access mode: SINGLE_NODE_READER_ONLY
I1109 06:54:31.183204       1 driver.go:101] Enabling volume access mode: SINGLE_NODE_SINGLE_WRITER
I1109 06:54:31.183277       1 driver.go:101] Enabling volume access mode: SINGLE_NODE_MULTI_WRITER
I1109 06:54:31.183348       1 driver.go:92] Enabling node service capability: STAGE_UNSTAGE_VOLUME
I1109 06:54:31.183423       1 driver.go:92] Enabling node service capability: EXPAND_VOLUME
I1109 06:54:31.183491       1 driver.go:92] Enabling node service capability: GET_VOLUME_STATS
I1109 06:54:31.183565       1 driver.go:92] Enabling node service capability: SINGLE_NODE_MULTI_WRITER
I1109 06:54:31.183635       1 driver.go:112] Enabling group controller service capability: CREATE_DELETE_GET_VOLUME_GROUP_SNAPSHOT
I1109 06:54:31.183915       1 server.go:127] Listening for connections on address: &net.UnixAddr{Name:"//csi/csi.sock", Net:"unix"}
I1109 06:54:31.774101       1 utils.go:87] GRPC call: /csi.v1.Identity/GetPluginInfo
I1109 06:54:31.774122       1 utils.go:88] GRPC request: {}
I1109 06:54:31.777143       1 utils.go:94] GRPC response: {"name":"disk.csi.azure.com","vendor_version":"v1.30.0"}
I1109 06:54:31.783412       1 utils.go:87] GRPC call: /csi.v1.Controller/ControllerGetCapabilities
I1109 06:54:31.783428       1 utils.go:88] GRPC request: {}
I1109 06:54:31.783465       1 utils.go:94] GRPC response: {"capabilities":[{"Type":{"Rpc":{"type":1}}},{"Type":{"Rpc":{"type":2}}},{"Type":{"Rpc":{"type":5}}},{"Type":{"Rpc":{"type":7}}},{"Type":{"Rpc":{"type":9}}},{"Type":{"Rpc":{"type":13}}}]}
I1109 06:54:31.784206       1 utils.go:87] GRPC call: /csi.v1.GroupController/GroupControllerGetCapabilities
I1109 06:54:31.784219       1 utils.go:88] GRPC request: {}
I1109 06:54:31.784271       1 utils.go:94] GRPC response: {"capabilities":[{"Type":{"Rpc":{"type":1}}}]}
I1109 06:54:47.714895       1 utils.go:87] GRPC call: /csi.v1.Identity/GetPluginInfo
I1109 06:54:47.715045       1 utils.go:88] GRPC request: {}
I1109 06:54:47.715223       1 utils.go:94] GRPC response: {"name":"disk.csi.azure.com","vendor_version":"v1.30.0"}
I1109 06:54:47.716058       1 utils.go:87] GRPC call: /csi.v1.Identity/GetPluginInfo
I1109 06:54:47.716743       1 utils.go:88] GRPC request: {}
I1109 06:54:47.716866       1 utils.go:94] GRPC response: {"name":"disk.csi.azure.com","vendor_version":"v1.30.0"}
I1109 06:54:47.717557       1 utils.go:87] GRPC call: /csi.v1.GroupController/CreateVolumeGroupSnapshot
I1109 06:54:47.717623       1 utils.go:88] GRPC request: {"name":"groupsnapshot-6409749b-d2d6-4b6d-a8d6-9b2e350a9bbc","parameters":{"incremental":"true"},"source_volume_ids":["/subscriptions/8ecadfc9-d1a3-4ea4-b844-0d9f87e4d7c8/resourceGroups/mc_aks-snapshot_group_aks-snapshot_eastus/providers/Microsoft.Compute/disks/pvc-5dd16087-1b7c-4928-9bd0-ede374fcfe0d","/subscriptions/8ecadfc9-d1a3-4ea4-b844-0d9f87e4d7c8/resourceGroups/mc_aks-snapshot_group_aks-snapshot_eastus/providers/Microsoft.Compute/disks/pvc-bc98c6ee-309c-4e72-8471-2a6a9a145cb8"]}
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x19c78d4]

goroutine 43 [running]:
sigs.k8s.io/azuredisk-csi-driver/pkg/azuredisk.(*Driver).CreateVolumeGroupSnapshot(0xc00020c820, {0x21cf1e8, 0xc0001e94a0}, 0xc000098f00)
	/home/xinyuyuan/go/src/azuredisk-csi-driver/pkg/azuredisk/controllerserver.go:1172 +0x11d4
github.com/container-storage-interface/spec/lib/go/csi._GroupController_CreateVolumeGroupSnapshot_Handler.func1({0x21cf1e8, 0xc0001e94a0}, {0x1dce100?, 0xc000098f00})
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/github.com/container-storage-interface/spec/lib/go/csi/csi.pb.go:6816 +0x78
sigs.k8s.io/azuredisk-csi-driver/pkg/csi-common.logGRPC({0x21cf1e8, 0xc0001e94a0}, {0x1dce100?, 0xc000098f00?}, 0xc000423620, 0xc000206b40)
	/home/xinyuyuan/go/src/azuredisk-csi-driver/pkg/csi-common/utils.go:90 +0x3b3
github.com/container-storage-interface/spec/lib/go/csi._GroupController_CreateVolumeGroupSnapshot_Handler({0x1ecaf60?, 0xc00020c820}, {0x21cf1e8, 0xc0001e94a0}, 0xc000102e00, 0x200e418)
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/github.com/container-storage-interface/spec/lib/go/csi/csi.pb.go:6818 +0x138
google.golang.org/grpc.(*Server).processUnaryRPC(0xc0004741e0, {0x21d5778, 0xc000007ba0}, 0xc0003f18c0, 0xc000480720, 0x30985f8, 0x0)
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/google.golang.org/grpc/server.go:1376 +0xdd2
google.golang.org/grpc.(*Server).handleStream(0xc0004741e0, {0x21d5778, 0xc000007ba0}, 0xc0003f18c0, 0x0)
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/google.golang.org/grpc/server.go:1753 +0xa36
google.golang.org/grpc.(*Server).serveStreams.func1.1()
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/google.golang.org/grpc/server.go:998 +0x98
created by google.golang.org/grpc.(*Server).serveStreams.func1
	/home/xinyuyuan/go/src/azuredisk-csi-driver/vendor/google.golang.org/grpc/server.go:996 +0x18c
